@tailwind base;
@tailwind components; 
@tailwind utilities;

/* Prevent layout shift when scrollbar appears */
@layer base {
  html {
    overflow-y: scroll;
  }
  
  body {
    scrollbar-gutter: stable;
  }

  /* Ensure proper theme inheritance */
  html[data-theme] {
    color-scheme: light;
  }

  html[data-theme="dark"] {
    color-scheme: dark;
  }

  /* Override any remaining hardcoded colors */
  html[data-theme="dark"] {
    --tw-bg-opacity: 1;
  }

  /* Ensure all text inherits theme colors properly */
  * {
    border-color: theme('colors.base-300');
  }

  /* Custom scrollbar for dark theme */
  html[data-theme="dark"] ::-webkit-scrollbar {
    background-color: theme('colors.base-300');
  }

  html[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background-color: theme('colors.base-content');
    border-radius: 4px;
  }

  html[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background-color: theme('colors.primary');
  }
}

/* Custom component styles that respect theme */
@layer components {
  .hero-gradient {
    background: linear-gradient(135deg, 
      hsl(var(--p)) 0%, 
      hsl(var(--s)) 100%);
  }

  /* Ensure proper contrast for hero text over images */
  .hero-overlay {
    background: linear-gradient(
      to right,
      rgba(0, 0, 0, 0.7),
      rgba(0, 0, 0, 0.5),
      rgba(0, 0, 0, 0.3)
    );
  }

  /* Theme-aware shadows */
  html[data-theme="dark"] .shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 
                0 4px 6px -2px rgba(0, 0, 0, 0.2);
  }

  html[data-theme="dark"] .shadow-xl {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 
                0 10px 10px -5px rgba(0, 0, 0, 0.2);
  }
}
